{% extends "mainapp/layout.html" %}
{% load django_vite %}
{% block pagename %}Homepage{% endblock %}
{% block headadditions %}
<style>
	.render-pane {
		min-height: 256px;
	}
</style>
{% for model in models %}
<link rel="preload" href="/api/model/{{ model.model_id }}/{{ model.revision }}" as="fetch" crossorigin>
{% endfor %}
{% endblock %}
{% block body %}
<div class="container">
	<div class="col-12">
		<h1>3D Model Repository</h1>
	</div>
	<hr>
	{% if models %}
	<div class="row flex">
		{% for model in models %}
			{% include "mainapp/modelpanel.html" %}
		{% endfor %}
	</div>
	{% endif %}
	{% if paginator %}
	<nav aria-label="Page navigation" style="margin-bottom:30px;">
		<ul class="pagination justify-content-center">
			{% for page in paginator.page_range %}
			{% if page == page_id %}
			<li class="page-item active">
				<span class="page-link">{{ page }}</span>
			</li>
			{% else %}
			<li class="page-item">
				<a href="{% url 'index' %}?page={{ page }}" class="page-link">{{ page }}</a>
			</li>
			{% endif %}
			{% endfor %}
		</ul>
	</nav>
	{% else %}
	<p>No models exist.</p>
	{% endif %}
</div>
{% endblock %}
{% block footeradditions %}
{% vite_asset 'src/main.js' %}
<script>
	window.addEventListener("load", function() {
		setUpRenderPane();
	});
</script>
{% endblock %}